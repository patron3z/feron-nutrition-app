{"version":3,"sources":["index.android.tsx"],"names":["React","Children","cloneElement","MenuView","flattenChildren","pickChildren","isInstanceOfComponent","create","filterNull","View","createAndroidMenu","Menu","Trigger","children","style","asChild","props","Auxiliary","Group","Content","console","error","ItemTitle","Error","ItemIcon","androidIconName","warn","ItemImage","_","ItemSubtitle","Item","titleChild","targetChildren","length","SubTrigger","Sub","SubContent","CheckboxItem","Label","Root","trigger","content","callbacks","getItemFromChild","child","index","title","key","subtitle","menuAttributes","disabled","destructive","hidden","icon","maybeTitle","textValue","Array","isArray","stringTitle","isString","i","text","subtitleChild","iconChildren","maybeIndexKey","startsWith","substring","undefined","isNaN","Number","toLowerCase","replace","onSelect","menuState","value","currentState","nextState","onValueChange","mapItemsChildren","map","item","flat","_child","finalItem","id","image","attributes","hasItemIndicator","ItemIndicator","state","triggerItemChild","triggerItem","nestedContent","nestedItems","filter","menuConfig","subactions","menuItems","label","menuTitle","shouldOpenOnLongPress","action","nativeEvent","event","onOpenChange","Separator","Preview","Arrow"],"mappings":"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","sourcesContent":["import React, { Children, ReactElement, cloneElement } from 'react'\n\nimport { MenuView } from '@react-native-menu/menu'\n\nimport {\n  flattenChildren,\n  pickChildren,\n  isInstanceOfComponent,\n} from '../children'\nimport { create } from '../display-names'\nimport { filterNull } from '../filter-null'\nimport type {\n  MenuContentProps,\n  MenuGroupProps,\n  MenuItemProps,\n  MenuItemSubtitleProps,\n  MenuItemTitleProps,\n  MenuRootProps,\n  MenuSubTriggerProps,\n  MenuTriggerProps,\n  MenuItemIconProps,\n  MenuCheckboxItemProps,\n  MenuSeparatorProps,\n  MenuItemImageProps,\n  MenuItemIndicatorProps,\n  MenuLabelProps,\n  ContextMenuPreviewProps,\n  ContextMenuContentProps,\n  MenuArrowProps,\n  MenuSubProps,\n  MenuSubContentProps,\n  ContextMenuAuxliliaryProps,\n} from '../types'\nimport { View } from 'react-native'\n\nconst createAndroidMenu = (Menu: 'ContextMenu' | 'DropdownMenu') => {\n  const Trigger = create(\n    ({ children, style, asChild, ...props }: MenuTriggerProps) => {\n      if (asChild) {\n        return cloneElement(children, {\n          style,\n          ...props,\n        })\n      }\n      return <View style={style as any}>{children}</View>\n    },\n    'Trigger'\n  )\n\n  const Auxiliary = create(\n    ({}: ContextMenuAuxliliaryProps) => null,\n    'Auxiliary'\n  )\n\n  const Group = create(({ children }: MenuGroupProps) => {\n    return <>{children}</>\n  }, 'Group')\n\n  const Content = create(\n    ({ children }: MenuContentProps | ContextMenuContentProps) => {\n      if (!children) {\n        console.error(`[zeego] <Content /> children must be written directly inline.\n\nYou cannot wrap this component into its own component. It should look like this:\n\n<Root>\n  <Content>\n    <Item />\n    <Item />\n  </Content>\n</Root>\n\nNotice that the <Item /> are all children of the <Content /> component. That's important.\n\nIf you want to use a custom component as your <Content />, you can use the create() method. But you still need to pass all items as children of <Content />.`)\n      }\n      return <>{children}</>\n    },\n    'Content'\n  )\n\n  const ItemTitle = create(({ children }: MenuItemTitleProps) => {\n    if (typeof children != 'string') {\n      throw new Error('[zeego] <ItemTitle /> child must be a string')\n    }\n    return <>{children}</>\n  }, 'ItemTitle')\n\n  const ItemIcon = create((props: MenuItemIconProps) => {\n    if (!props.androidIconName) {\n      console.warn(\n        '[zeego] <ItemIcon /> missing androidIconName prop. Will do nothing on android. Consider passing an androidIconName or switching to <ItemImage />.'\n      )\n    }\n    return <>{}</>\n  }, 'ItemIcon')\n\n  const ItemImage = create((_: MenuItemImageProps) => {\n    return null\n  }, 'ItemImage')\n\n  const ItemSubtitle = create(({ children }: MenuItemSubtitleProps) => {\n    if (children && typeof children != 'string') {\n      throw new Error('[zeego] <ItemSubtitle /> child must be a string')\n    }\n    return <>{children}</>\n  }, 'ItemSubtitle')\n\n  const Item = create(({ children }: MenuItemProps) => {\n    const titleChild = pickChildren(children, ItemTitle).targetChildren\n    if (typeof children != 'string' && !titleChild?.length) {\n      console.error(\n        `[zeego] Invalid <Item />. It either needs <ItemTitle /> in the children.\n\n<Item>\n  <ItemTitle>\n    Title here\n  </ItemTitle>\n</Item>\n  `\n      )\n    }\n    return <>{children}</>\n  }, 'Item')\n\n  const SubTrigger = create(({ children }: MenuSubTriggerProps) => {\n    const titleChild = pickChildren(children, ItemTitle).targetChildren\n    if (typeof children != 'string' && !titleChild?.length) {\n      console.error(\n        `[zeego] Invalid <SubTrigger />. It either needs an <ItemTitle /> in the children.\n\n<SubTrigger>\n  <ItemTitle>\n    Title here\n  </ItemTitle>\n</SubTrigger>\n  `\n      )\n    }\n    return <>{children}</>\n  }, 'SubTrigger')\n  const Sub = create((_: MenuSubProps) => <></>, 'Sub')\n  const SubContent = create((_: MenuSubContentProps) => <></>, 'SubContent')\n\n  const CheckboxItem = create(({}: MenuCheckboxItemProps) => {\n    return <></>\n  }, 'CheckboxItem')\n\n  const Label = create(({ children }: MenuLabelProps) => {\n    if (typeof children != 'string') {\n      console.error('[zeego] <Label /> children must be a string.')\n    }\n    return <></>\n  }, 'Label')\n\n  type MenuAttributes = {\n    disabled?: boolean\n    destructive?: boolean\n    hidden?: boolean\n  }\n\n  type MenuConfig = {\n    id?: string\n    title: string\n    subactions: (MenuItem | MenuConfig)[]\n    attributes?: MenuAttributes\n    image?: MenuItemIcon\n  }\n\n  type MenuItemIcon = string\n\n  type MenuItem = {\n    id: string\n    title: string\n    titleColor?: string\n    subtitle?: string\n    image?: string\n    imageColor?: string\n    state?: 'on' | 'off' | 'mixed'\n    attributes?: MenuAttributes\n  }\n\n  const Root = create((props: MenuRootProps) => {\n    const trigger = pickChildren<MenuTriggerProps>(props.children, Trigger)\n    const content = pickChildren<MenuContentProps | ContextMenuContentProps>(\n      props.children,\n      Content\n    ).targetChildren?.[0]\n\n    const callbacks: Record<string, () => void> = {}\n\n    const getItemFromChild = (\n      child: ReactElement<\n        MenuItemProps | MenuSubTriggerProps | MenuCheckboxItemProps\n      >,\n      index: number\n    ) => {\n      let title: string | undefined\n      const key: string = child.key ? `${child.key}` : `item-${index}`\n      let subtitle: string | undefined\n      const menuAttributes: MenuAttributes = {}\n\n      if (child.props.disabled) {\n        menuAttributes.disabled = true\n      }\n      if (child.props.destructive) {\n        menuAttributes.destructive = true\n      }\n      if (child.props.hidden) {\n        menuAttributes.hidden = true\n      }\n\n      let icon: MenuItem['image']\n\n      if (typeof child.props.children == 'string') {\n        title = child.props.children\n      } else {\n        const titleChild = pickChildren<MenuItemTitleProps>(\n          child.props.children,\n          ItemTitle\n        ).targetChildren\n\n        let maybeTitle =\n          child.props.textValue ?? titleChild?.[0]?.props.children\n\n        if (Array.isArray(maybeTitle)) {\n          /**\n           * Use case: <ItemTitle>Here is some {text}</ItemTitle>\n           * React will turn that into ['Here is some ', text] as an array\n           * So we need to 1) detect that it's all strings and 2) join them together\n           */\n          let stringTitle = ''\n          let isString = false\n\n          for (let i = 0; i < maybeTitle.length; i++) {\n            const text = maybeTitle[i]\n            if (text == null) {\n              continue\n            }\n            if (typeof text == 'string' || typeof text == 'number') {\n              stringTitle += text\n              isString = true\n            } else {\n              isString = false\n              break\n            }\n          }\n\n          if (isString) {\n            maybeTitle = stringTitle\n          }\n        }\n\n        if (typeof maybeTitle === 'string') {\n          title = maybeTitle\n        } else {\n          console.error(\n            `[zeego] Invalid <${Menu}.Item key=\"${key}\" /> Missing valid title. Make sure you do one of the following:\n  \n  1. pass a string as the child of <${Menu}.ItemTitle />, nested directly inside of <${Menu}.Item />.\n  2. OR, use the textValue prop on <${Menu}.Item textValue=\"Some value\" />`\n          )\n        }\n\n        const subtitleChild = pickChildren<MenuItemSubtitleProps>(\n          child.props.children,\n          ItemSubtitle\n        ).targetChildren\n        if (typeof subtitleChild?.[0]?.props.children == 'string') {\n          subtitle = subtitleChild[0].props.children\n        }\n\n        const iconChildren = pickChildren<MenuItemIconProps>(\n          child.props.children,\n          ItemIcon\n        ).targetChildren\n\n        if (iconChildren?.[0]?.props.androidIconName) {\n          icon = iconChildren[0].props.androidIconName\n        }\n      }\n      if (title) {\n        const maybeIndexKey =\n          typeof child.key == 'string' && child.key.startsWith('.')\n            ? child.key.substring(1)\n            : undefined\n\n        if (\n          // if the key doesn't exist as a string\n          typeof child.key != 'string' ||\n          // or if flattenChildren assigned the key as `.${key}${index}`\n          (child.key.startsWith('.') && !isNaN(Number(maybeIndexKey)))\n        ) {\n          console.warn(\n            `[zeego] <Item /> is missing a unique key. Pass a unique key string for each item, such as: <Item key=\"${\n              title.toLowerCase().replace(/ /g, '-') || `action-${index}`\n            }\" />. Falling back to index (${key}) instead, but this may have negative consequences.`\n          )\n        }\n        if ('onSelect' in child.props && child.props.onSelect) {\n          callbacks[key] = child.props.onSelect\n        } else if ('onValueChange' in child.props) {\n          const menuState = child.props.value\n          const currentState =\n            menuState === true ? 'on' : menuState === false ? 'off' : menuState\n          const nextState =\n            currentState === 'mixed' || currentState === 'on' ? 'off' : 'on'\n          const { onValueChange } = child.props\n          callbacks[key] = () => {\n            onValueChange?.(nextState, currentState)\n          }\n        }\n\n        return {\n          key,\n          title,\n          subtitle,\n          menuAttributes,\n          icon,\n        }\n      }\n      return\n    }\n\n    const mapItemsChildren = (\n      children: React.ReactNode\n    ): ((MenuItem | MenuConfig) | null)[] => {\n      return Children.map(\n        flattenChildren(children)\n          .map((item) => {\n            // android menu doesn't support group feature like iOS `displayInline` option in menu\n            if (\n              isInstanceOfComponent(item, Group) &&\n              typeof item === 'object'\n            ) {\n              return flattenChildren(item.props.children)\n            }\n            return item\n          })\n          .flat(),\n        (_child, index) => {\n          if (isInstanceOfComponent(_child, Item)) {\n            const child = _child as ReactElement<MenuItemProps>\n\n            const item = getItemFromChild(child, index)\n            if (item) {\n              const { icon, title, key, menuAttributes, subtitle } = item\n              const finalItem: MenuItem = {\n                id: key,\n                title,\n                image: icon,\n                attributes: menuAttributes,\n                subtitle,\n              }\n              return finalItem\n            }\n          } else if (isInstanceOfComponent(_child, CheckboxItem)) {\n            const child = _child as ReactElement<MenuCheckboxItemProps>\n\n            const item = getItemFromChild(child, index)\n            if (item) {\n              const { icon, title, key, menuAttributes, subtitle } = item\n              const menuState = child.props.value\n              const currentState =\n                menuState === true\n                  ? 'on'\n                  : menuState === false\n                  ? 'off'\n                  : menuState\n\n              const hasItemIndicator =\n                pickChildren(child.props.children, ItemIndicator)\n                  .targetChildren?.[0] !== undefined\n\n              let image = icon\n\n              if (hasItemIndicator && !icon) {\n                image =\n                  currentState === 'on'\n                    ? 'checkbox_on_background'\n                    : 'checkbox_off_background'\n              }\n\n              const finalItem: MenuItem = {\n                id: key,\n                title,\n                image,\n                attributes: menuAttributes,\n                subtitle,\n                state: currentState,\n              }\n              return finalItem\n            }\n          } else if (isInstanceOfComponent(_child, Sub)) {\n            const child = _child as ReactElement<MenuRootProps>\n            const key: string = child.key ? `${child.key}` : `sub-${index}`\n            const triggerItemChild = pickChildren<MenuSubTriggerProps>(\n              child.props.children,\n              SubTrigger\n            ).targetChildren?.[0]\n\n            const triggerItem =\n              triggerItemChild && getItemFromChild(triggerItemChild, index)\n            if (triggerItem) {\n              const nestedContent = pickChildren<MenuContentProps>(\n                child.props.children,\n                SubContent\n              ).targetChildren?.[0]\n\n              if (nestedContent) {\n                const nestedItems = mapItemsChildren(\n                  nestedContent.props.children\n                ).filter(filterNull)\n\n                if (nestedItems.length) {\n                  const menuConfig: MenuConfig = {\n                    id: key,\n                    title: triggerItem?.title,\n                    image: triggerItem?.icon,\n                    subactions: nestedItems,\n                    attributes: triggerItem.menuAttributes,\n                  }\n                  return menuConfig\n                }\n              }\n            }\n          }\n          return null\n        }\n      )\n    }\n\n    const menuItems = mapItemsChildren(content?.props.children).filter(\n      filterNull\n    )\n\n    const label = pickChildren<MenuLabelProps>(content?.props.children, Label)\n      .targetChildren?.[0]?.props.children\n    let menuTitle = ''\n    if (typeof label == 'string') {\n      menuTitle = label\n    }\n\n    const triggerItem = trigger.targetChildren?.[0]\n\n    let shouldOpenOnLongPress = Menu === 'ContextMenu'\n\n    if (triggerItem?.props.action) {\n      shouldOpenOnLongPress = triggerItem.props.action === 'longPress'\n    }\n\n    return (\n      <MenuView\n        title={menuTitle}\n        style={props.style as any}\n        onPressAction={({ nativeEvent }) => {\n          callbacks[nativeEvent.event]?.()\n        }}\n        shouldOpenOnLongPress={shouldOpenOnLongPress}\n        actions={menuItems}\n        // @ts-ignore\n        onOpenMenu={() => {\n          props.onOpenChange?.(true)\n        }}\n        // @ts-ignore\n        onCloseMenu={() => {\n          props.onOpenChange?.(false)\n        }}\n      >\n        {triggerItem}\n      </MenuView>\n    )\n  }, 'Root')\n\n  const Separator = create((_: MenuSeparatorProps) => {\n    return <></>\n  }, 'Separator')\n\n  const ItemIndicator = create(\n    (_: MenuItemIndicatorProps) => <></>,\n    'ItemIndicator'\n  )\n\n  const Preview = create((_: ContextMenuPreviewProps) => <></>, 'Preview')\n\n  const Arrow = create((_: MenuArrowProps) => <></>, 'Arrow')\n\n  return {\n    Root,\n    Trigger,\n    Content,\n    Item,\n    ItemTitle,\n    ItemSubtitle,\n    SubTrigger,\n    Group,\n    Separator,\n    ItemIcon,\n    ItemIndicator,\n    CheckboxItem,\n    ItemImage,\n    Label,\n    Preview,\n    Arrow,\n    Sub,\n    SubContent,\n    Auxiliary,\n  }\n}\n\nexport { createAndroidMenu }\n"]}